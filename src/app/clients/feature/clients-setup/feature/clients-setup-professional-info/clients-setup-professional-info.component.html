<div class="container">
  <div class="flex-col">
    <p>Step 3/3</p>
    <h3 class="title">Professional Info</h3>
    <p>Tell companies about your professional experience.</p>
  </div>
  <div class="flex-col">
    <form [formGroup]="professionalInfoForm" class="form">
      <div class="card">
        <h4 class="subtitle">Start by uploading your CV</h4>
        <app-input-file
          [Control]="getControl('cv')"
          accept=", .doc, .docx, .pdf"
          (controlchange)="onCvChange($event)"
        ></app-input-file>
      </div>
      <div class="card">
        <h4 class="subtitle">How many years of experience do you have?</h4>
        <app-select
          label="Years of Experience"
          [Control]="getControl('years_of_experience')"
          [list]="yearsOfExperienceList"
          (change)="onYearsOfExperienceChange($event)"
        ></app-select>
      </div>
      <ng-container
        *ngIf="
          getControl('years_of_experience').value !== 'No Experience' &&
          getControl('years_of_experience').value !== null
        "
      >
        <h4 class="subtitle">What is your work experience?</h4>
        <div class="card">
          <app-work-experience-form
            [FormGroup]="getFormGroup('work_experience')"
          ></app-work-experience-form>
          <div class="option-btns">
            <button
              mat-raised-button
              color="primary"
              [disabled]="getFormGroup('work_experience').invalid"
            >
              Save
            </button>
            <button
              mat-raised-button
              color="primary"
              [disabled]="getFormGroup('work_experience').invalid"
            >
              Save & Add More
            </button>
            <button mat-raised-button color="primary">Cancel</button>
          </div>
        </div>
      </ng-container>
      <div class="card">
        <h4 class="subtitle">What is your current education level?</h4>
        <app-chips
          size="large"
          [Control]="getControl('education_level')"
          [chips]="educationLevelList"
          (change)="onEducationLevelChange($event)"
        ></app-chips>
        <ng-container
          *ngIf="getControl('education_level').value !== 'High School'"
        >
          <app-degree-details-form
            type="degree"
            [FormGroup]="getFormGroup('degree_details')"
          ></app-degree-details-form>
        </ng-container>
        <ng-container
          *ngIf="getControl('education_level').value === 'High School'"
        >
          <app-degree-details-form
            type="highschool"
            [FormGroup]="getFormGroup('highschool_details')"
          ></app-degree-details-form>
        </ng-container>
      </div>
      <div class="card">
        <h4 class="subtitle">
          What languages do you know? - you can add one or more
        </h4>
        <app-input-autocomplete
          label="Language"
          placeholder="e.g., Arabic, English"
          [Control]="getFormGroupControl('language', 'language_name')"
          [list]="languageList"
        ></app-input-autocomplete>
        <app-select
          label="Proficiency"
          [Control]="getFormGroupControl('language', 'proficiency')"
          [list]="proficiencyLevelList"
        ></app-select>
        <button mat-raised-button color="primary">Add</button>
      </div>
      <div class="card">
        <h4 class="subtitle">
          What skills, tools, technologies and fields of expertise do you have?
          â€” Add up to 30
        </h4>
        <app-chips-autocomplete
          label="Skills"
          placeholder="e.g., HTML, CSS"
          [Control]="getControl('skills')"
          [chips]="skillsList"
        ></app-chips-autocomplete>
      </div>
    </form>
  </div>
  <p>{{ professionalInfoForm.value | json }}</p>
</div>
